import{K as O,L as x,k as C,r as p,C as m,D as T,h as b,M as _,N as y,E as N,O as h,F as k,G as L,P as M,Q as R}from"./index.2e2453f5.js";var F=(e,n)=>{const t=e.__vccOpts||e;for(const[i,r]of n)t[i]=r;return t},l=typeof window!="undefined";function g(e){return l?requestAnimationFrame(e):-1}function H(e){g(()=>g(e))}var D=e=>e===window,E=(e,n)=>({top:0,left:0,right:e,bottom:n,width:e,height:n}),V=e=>{const n=h(e);if(D(n)){const t=n.innerWidth,i=n.innerHeight;return E(t,i)}return n!=null&&n.getBoundingClientRect?n.getBoundingClientRect():E(0,0)};function j(e){const n=O(e,null);if(n){const t=b(),{link:i,unlink:r,internalChildren:o}=n;i(t),x(()=>r(t));const s=C(()=>o.indexOf(t));return{parent:n,index:s}}return{parent:null,index:p(-1)}}function P(e){const n=[],t=i=>{Array.isArray(i)&&i.forEach(r=>{var o;R(r)&&(n.push(r),(o=r.component)!=null&&o.subTree&&(n.push(r.component.subTree),t(r.component.subTree.children)),r.children&&t(r.children))})};return t(e),n}function A(e,n,t){const i=P(e.subTree.children);t.sort((o,s)=>i.indexOf(o.vnode)-i.indexOf(s.vnode));const r=t.map(o=>o.proxy);n.sort((o,s)=>{const c=r.indexOf(o),a=r.indexOf(s);return c-a})}function z(e){const n=m([]),t=m([]),i=b();return{children:n,linkChildren:o=>{T(e,Object.assign({link:a=>{a.proxy&&(t.push(a),n.push(a.proxy),A(i,n,t))},unlink:a=>{const u=t.indexOf(a);n.splice(u,1),t.splice(u,1)},children:n,internalChildren:t},o))}}}function S(e){let n;k(()=>{e(),L(()=>{n=!0})}),M(()=>{n&&e()})}function K(e,n,t={}){if(!l)return;const{target:i=window,passive:r=!1,capture:o=!1}=t;let s;const c=u=>{const d=h(u);d&&!s&&(d.addEventListener(e,n,{capture:o,passive:r}),s=!0)},a=u=>{const d=h(u);d&&s&&(d.removeEventListener(e,n,o),s=!1)};x(()=>a(i)),_(()=>a(i)),S(()=>c(i)),y(i)&&N(i,(u,d)=>{a(d),c(u)})}var f,w;function U(){if(!f&&(f=p(0),w=p(0),l)){const e=()=>{f.value=window.innerWidth,w.value=window.innerHeight};e(),window.addEventListener("resize",e,{passive:!0}),window.addEventListener("orientationchange",e,{passive:!0})}return{width:f,height:w}}var B=/scroll|auto/i,Y=l?window:void 0;function I(e){return e.tagName!=="HTML"&&e.tagName!=="BODY"&&e.nodeType===1}function q(e,n=Y){let t=e;for(;t&&t!==n&&I(t);){const{overflowY:i}=window.getComputedStyle(t);if(B.test(i))return t;t=t.parentNode}return n}var v;function G(){if(!v&&(v=p("visible"),l)){const e=()=>{v.value=document.hidden?"hidden":"visible"};e(),window.addEventListener("visibilitychange",e)}return v}var J=Symbol("van-field");export{J as C,F as _,j as a,K as b,U as c,G as d,H as e,V as f,q as g,S as o,z as u};
